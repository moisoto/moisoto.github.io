<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.139.3">

  <title>Verifying a DNS Record &middot; MoiSoto&#39;s Dev Corner</title>

  <meta name="description" content="" />

  
  <meta itemprop="name" content="Verifying a DNS Record">
  <meta itemprop="description" content="I was recently asked why sometimes when settings TXT records on your domain DNS configuration it took a while for the change for it to be seen by other servers. The reasons are various, mainly DNS propagation delays. Here I’ll show you how to verify the change has been applied.">
  <meta itemprop="datePublished" content="2024-12-12T11:00:00-04:00">
  <meta itemprop="dateModified" content="2024-12-12T11:00:00-04:00">
  <meta itemprop="wordCount" content="307">
  <meta itemprop="image" content="http://moisoto.dev/images/DNS-logo-small.tiff">
  <meta itemprop="keywords" content="Tips,How-To,MacOS,Linux,Terminal">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://moisoto.dev/images/DNS-logo-small.tiff">
  <meta name="twitter:title" content="Verifying a DNS Record">
  <meta name="twitter:description" content="I was recently asked why sometimes when settings TXT records on your domain DNS configuration it took a while for the change for it to be seen by other servers. The reasons are various, mainly DNS propagation delays. Here I’ll show you how to verify the change has been applied.">


<meta property="og:url" content="http://moisoto.dev/post/dns-record/">
  <meta property="og:site_name" content="MoiSoto&#39;s Dev Corner">
  <meta property="og:title" content="Verifying a DNS Record">
  <meta property="og:description" content="I was recently asked why sometimes when settings TXT records on your domain DNS configuration it took a while for the change for it to be seen by other servers. The reasons are various, mainly DNS propagation delays. Here I’ll show you how to verify the change has been applied.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-12-12T11:00:00-04:00">
    <meta property="article:modified_time" content="2024-12-12T11:00:00-04:00">
    <meta property="article:tag" content="Tips">
    <meta property="article:tag" content="How-To">
    <meta property="article:tag" content="MacOS">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Terminal">
    <meta property="og:image" content="http://moisoto.dev/images/DNS-logo-small.tiff">



<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type":"Person",
      "@id": "http://moisoto.dev/#author",
      "name": "Moises Soto",
      "image": {
        "@type":"ImageObject",
        
        "url": "http://moisoto.dev/images/profilepic.jpg"
        
      },
      "description": "Hosted by GitHub"
    },
    {
      "@type": "WebSite",
      "@id": "http://moisoto.dev/#website",
      "url": "http://moisoto.dev/",
      "name": "MoiSoto's Dev Corner",
      "description": "Hosted by GitHub",
      "publisher": {
        "@id": "http://moisoto.dev/#author"
      },
      "inLanguage": "en-us"
    },
    {
      "@type": "ImageObject",
      "url": "http://moisoto.dev/images/opengraph_tn.png",
      "caption": "MoiSoto's Dev Corner"
    },
    {
      "@type": "WebPage",
      "@id": "http://moisoto.dev/post/dns-record/#webpage",
      "url": "http://moisoto.dev/post/dns-record/",
      "name": "Verifying a DNS Record",
      "isPartOf": {
        "@id": "http://moisoto.dev/#website"
      },
      "about": {
         "@id": "http://moisoto.dev/#author"
      },
      "datePublished": "2024-12-12T11:00:00-04:00",
      "dateModified": "2024-12-12T11:00:00-04:00",
      "description": "\u003cp\u003e\u003cimg src=\"/images/DNS-logo-small.tiff#floatleft\" alt=\"DNS-Logo\"\u003e\u003c/p\u003e\n\u003cp\u003eI was recently asked why sometimes when settings TXT records on your domain DNS configuration it\ntook a while for the change for it to be seen by other servers. The reasons are various, mainly\nDNS propagation delays. Here I\u0026rsquo;ll show you how to verify the change has been applied.\u003c/p\u003e",
      "inLanguage": "en-us",
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": [
            "http://moisoto.dev/post/dns-record/"
          ]
        }
      ]
    },
    {
      "@type": "Article",
      "isPartOf": {
        "@id": "http://moisoto.dev/post/dns-record/#webpage"
      },
      "mainEntityOfPage": {
        "@id": "http://moisoto.dev/post/dns-record/#webpage"
      },
      "headline": "Verifying a DNS Record",
      "image": [
        "http://moisoto.dev/images/DNS-logo-small.tiff"
      ],
      "datePublished": "2024-12-12T11:00:00-04:00",
      "dateModified": "2024-12-12T11:00:00-04:00",
      "publisher": {
        "@id": "http://moisoto.dev/#author"
      },
      "keywords": [
        "Tips",
        "How-To",
        "MacOS",
        "Linux",
        "Terminal"
      ],
      "articleSection": [
      ],
      "inLanguage": "en-us",
      "author": {
        "@type": "Person",
        "name":  null 
      },
      "potentialAction": [
        {
          "@type": "CommentAction",
          "name": "Comment",
          "target": [
            "http://moisoto.dev/post/dns-record/#comments"
          ]
        }
      ]
    }
  ]
}
</script>



  <link type="text/css"
        rel="stylesheet"
        href="/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/css/hyde.css">

  

    

  

  <link rel="me" href="https://mastodon.social/@moisoto" />


  <link type="text/css" rel="stylesheet" href="/css/blog.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="http://moisoto.dev/">
            <img src="/images/profilepic.jpg" class="img-circle img-headshot center" alt="Profile Picture">
          </a>
        </div>
        
      

      <h1>MoiSoto&#39;s Dev Corner</h1>

      
      <p class="lead">Hosted by GitHub</p>
      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="http://moisoto.dev/">Home</a>
        </li>
        <li>
          <a href="/post/">Posts</a>
        </li><li>
          <a href="/about/">About</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://github.com/moisoto" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="https://twitter.com/moisoto" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1 class="title">Verifying a DNS Record</h1>
  

  <div class="post-date">
    <time datetime="2024-12-12T11:00:00-0400">Dec 12, 2024</time> <span class="readtime">&middot; 2 min read</span>
  </div>

  <div>
  <p><img src="/images/DNS-logo-small.tiff#floatleft" alt="DNS-Logo"></p>
<p>I was recently asked why sometimes when settings TXT records on your domain DNS configuration it
took a while for the change for it to be seen by other servers. The reasons are various, mainly
DNS propagation delays. Here I&rsquo;ll show you how to verify the change has been applied.</p>
<p>There are several tools that can be used for DNS Lookup. Here will cover three of them:</p>
<ul>
<li><strong>host</strong>: Simple format. Concise output.</li>
<li><strong>dig</strong>: More options. Complex format.</li>
<li><strong>nslookup</strong>: Simple format. Query option is MacOS only.</li>
</ul>
<h3 id="getting-a-txt-record">Getting a TXT Record</h3>
<p>Let&rsquo;s say you need a TXT record for <code>_acme-challenge.example.com</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Using host command:</span>
</span></span><span style="display:flex;"><span>host -t txt _acme-challenge.example.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using dig command:</span>
</span></span><span style="display:flex;"><span>dig +noall +answer TXT _acme-challenge.example.com <span style="color:#75715e"># Detailed</span>
</span></span><span style="display:flex;"><span>dig +short TXT _acme-challenge.example.com <span style="color:#75715e"># Just show record</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using nslooup (macOS only):</span>
</span></span><span style="display:flex;"><span>nslookup -query<span style="color:#f92672">=</span>TXT _acme-challenge.example.com | grep text
</span></span></code></pre></div><p>If you only have nslookup on your non-MacOS system or need to use it for some reason,
you can write a script in the form of:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -z <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;Must specify a domain name.&#34;</span>
</span></span><span style="display:flex;"><span>  exit
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>nslookup <span style="color:#e6db74">&lt;&lt; EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">set type=TXT
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">$1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><h3 id="flushing-the-dns-cache">Flushing the DNS Cache</h3>
<p>If you want to make sure you get the most recent record you will probably need to flush the DNS cache manually.</p>
<p>On MacOS use the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo dscacheutil -flushcache
</span></span><span style="display:flex;"><span>sudo killall -HUP mDNSResponder
</span></span></code></pre></div><h3 id="getting-the-record-from-an-external-dns-server">Getting the record from an external DNS Server</h3>
<p>You can also get the most recent record by using an external DNS server.</p>
<p>For example to use the DNS Server at IP 8.8.8.8</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>dig +noall +answer TXT _acme-challenge.example.com @8.8.8.8
</span></span></code></pre></div><p><strong>Note:</strong> Once you make a query to an external DNS server the entry will remain
cached up for some time. You will need to use another public DNS server if you make
further changes to your DNS record and want to verify the change has been applied.</p>
  </div>

  
<div>
  <ul class="tags">
  <li>
    <a href="http://moisoto.dev/tags/tips/" class="tag-link">Tips</a>
  </li>
  
  <li>
    <a href="http://moisoto.dev/tags/how-to/" class="tag-link">How-To</a>
  </li>
  
  <li>
    <a href="http://moisoto.dev/tags/macos/" class="tag-link">MacOS</a>
  </li>
  
  <li>
    <a href="http://moisoto.dev/tags/linux/" class="tag-link">Linux</a>
  </li>
  
  <li>
    <a href="http://moisoto.dev/tags/terminal/" class="tag-link">Terminal</a>
  </li>
  </ul>
</div>



  <div class="share-buttons">
  <a class="twitter-share-button"
     href="#"
     title="Share on Twitter"
     data-url="http://moisoto.dev/post/dns-record/"
     data-text="Verifying a DNS Record"><i class="fab fa-twitter"></i></a>

  <a class="linkedin-share-button"
     href="#"
     title="Share on LinkedIn"
     data-url="http://moisoto.dev/post/dns-record/"
     data-text="Verifying a DNS Record"><i class="fab fa-linkedin-in"></i></a>

  <a class="facebook-share-button"
     href="#"
     title="Share on Facebook"
     data-url="http://moisoto.dev/post/dns-record/"
     data-text="Verifying a DNS Record"><i class="fab fa-facebook"></i></a>

  <a class="telegram-share-button"
     href="#"
     title="Share on Telegram"
     data-url="http://moisoto.dev/post/dns-record/"
     data-text="Verifying a DNS Record"><i class="fab fa-telegram"></i></a>

  <a class="pinterest-share-button"
     href="#"
     title="Share on Pinterest"
     data-url="http://moisoto.dev/post/dns-record/"
     data-text="Verifying a DNS Record"><i class="fab fa-pinterest"></i></a>
</div>


  
</div>
  </main>

  <footer>
  <div>
    <p>
      &copy; Moises Soto 2024

      &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

      
    </p>
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>


  <script src="/js/jquery.min.js"></script>
  <script src="/js/soho.js"></script>

  <script src="/js/blog.js"></script>

  


    
      
    
</body>
</html>
